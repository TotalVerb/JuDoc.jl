<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Workflow · JuDoc.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/><link href="../../assets/custom.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>JuDoc.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Home</a></li><li><span class="toctext">Manual</span><ul><li class="current"><a class="toctext" href>Workflow</a><ul class="internal"><li><a class="toctext" href="#Local-editing-1">Local editing</a></li><li><a class="toctext" href="#Hosting-the-website-1">Hosting the website</a></li><li><a class="toctext" href="#Optimisation-step-1">Optimisation step</a></li><li><a class="toctext" href="#(git)-synchronisation-1">(git) synchronisation</a></li></ul></li><li><a class="toctext" href="../syntax/">Syntax</a></li><li><a class="toctext" href="../templating/">Templating</a></li><li><a class="toctext" href="../contrib/">Contributing</a></li></ul></li><li><span class="toctext">Library</span><ul><li><a class="toctext" href="../../lib/design/">Design</a></li><li><a class="toctext" href="../../lib/public/">Public</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Manual</li><li><a href>Workflow</a></li></ul><a class="edit-page" href="https://github.com/tlienart/JuDoc.jl/blob/master/docs/src/man/workflow.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Workflow</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Workflow-1" href="#Workflow-1">Workflow</a></h1><p>In this workflow it is assumed that you will eventually host your website on GitHub or GitLab but it shouldn&#39;t be hard to adapt to your particular case.</p><p><strong>Contents</strong>:</p><ul><li><a href="#Local-editing-1">Local editing</a><ul><li><a href="#Structure-1">Structure</a></li></ul></li><li><a href="#Hosting-the-website-1">Hosting the website</a></li><li><a href="#Optimisation-step-1">Optimisation step</a></li><li><a href="#(git)-synchronisation-1">(git) synchronisation</a><ul><li><a href="#A-possible-problem-and-fix-1">A possible problem and fix</a></li></ul></li></ul><h2><a class="nav-anchor" id="Local-editing-1" href="#Local-editing-1">Local editing</a></h2><p>To get started, the easiest is to use the <a href="man/@ref"><code>newsite</code></a> to generate a website folder which you can then modify to your heart&#39;s content. The command takes one mandatory argument: the name of the folder, and you can specify a template with <code>template=...</code>:</p><pre><code class="language-julia-repl">julia&gt; newsite(&quot;Test&quot;; template=&quot;pure-sm&quot;)
✓ Website folder generated at Test (now the current directory).
→ Use `serve()` from `JuDoc` to see the website in your browser.</code></pre><p>where the supported templates are currently:</p><table><tr><th style="text-align: left">Name</th><th style="text-align: left">Adapted from</th><th style="text-align: left">Comment</th></tr><tr><td style="text-align: left"><code>&quot;basic&quot;</code></td><td style="text-align: left">N/A (<a href="https://tlienart.github.io/">example</a>)</td><td style="text-align: left">minimal cruft, no extra JS</td></tr><tr><td style="text-align: left"><code>&quot;hypertext&quot;</code></td><td style="text-align: left">Grav &quot;Hypertext&quot; (<a href="http://hypertext.artofthesmart.com/">example</a>)</td><td style="text-align: left">minimal cruft, no extra JS</td></tr><tr><td style="text-align: left"><code>&quot;pure-sm&quot;</code></td><td style="text-align: left">Pure &quot;Side-Menu&quot; (<a href="https://purecss.io/layouts/side-menu/">example</a>)</td><td style="text-align: left">small JS for the side menu</td></tr><tr><td style="text-align: left"><code>&quot;vela&quot;</code></td><td style="text-align: left">Grav &quot;Vela&quot; (<a href="https://demo.matthiasdanzinger.eu/vela/">example</a>)</td><td style="text-align: left">JQuery + some JS for the side menu</td></tr><tr><td style="text-align: left"><code>&quot;tufte&quot;</code></td><td style="text-align: left">Tufte CSS (<a href="https://edwardtufte.github.io/tufte-css/">example</a>)</td><td style="text-align: left">extra font + stylesheet, no extra JS</td></tr></table><p>Once you have done that, you can serve your website once in the folder doing</p><pre><code class="language-julia-repl">julia&gt; serve()
✓ LiveServer listening on http://localhost:8000/ ...
  (use CTRL+C to shut down)</code></pre><p>and navigate in a browser to the corresponding address to see the website being rendered.</p><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>If you&#39;re using the Atom editor, you may like to use the <em>Atom browser</em> extension which allows you to have a browser in an Atom pane.</p></div></div><h3><a class="nav-anchor" id="Structure-1" href="#Structure-1">Structure</a></h3><p>The <a href="man/@ref"><code>newsite</code></a> command above generates folders and examples files following the appropriate structure, so the easiest is to start with that and modify in place.</p><pre><code class="language-none">.
├── assets/
├── libs/
└── src/</code></pre><p>Once you run <a href="../../lib/public/#JuDoc.serve"><code>serve</code></a> the first time, two additional folders are generated (<code>css/</code> and <code>pub/</code>) along with the landing page <code>index.html</code>.</p><p>Among these folders,</p><ul><li>the <strong>main folder</strong> is <code>src/</code> and its subfolders, this is effectively where the source for your site is,</li><li>you should <em>ignore</em> <code>css/</code> and <code>pub/</code> these are <em>generated</em> and any changes you&#39;d do there will be silently over-written whenever you modify files in <code>src/</code>; the same comment holds for <code>index.html</code>,</li><li>the folders <code>assets/</code> and <code>libs/</code> contain <em>auxiliary items</em> that are useful for your site: <code>assets/</code> would contain code snippets, images etc. while <code>libs/</code> would contain javascript libraries that you may need (KaTeX and highlight are in there by default).</li></ul><p>In the <code>src/</code> folder, the structure is:</p><pre><code class="language-none">.
├── _css
│   ├── judoc.css
│   └── ...
├── _html_parts
│   ├── foot.html
│   ├── head.html
│   └── ...
├── config.md
├── index.md
└── pages
    ├── page1.md
    └── ...</code></pre><p><strong>Pages</strong></p><p>The <code>index.md</code> will generate the site&#39;s landing page. The <code>pages/page1.md</code> would correspond to pages on your website (you can have whatever subfolder structure you want in there, and will just have to adapt internal links appropriately). See also the <a href="../syntax/#Syntax-1">Syntax</a>.</p><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>At any point you can write pages in HTML from scratch if you want to go beyond what JuDoc can offer; these pages will just be copied as they are. So for instance you may prefer to write an <code>index.html</code> file instead of using the <code>index.md</code> to generate it. You would still put it at the exact same place though (<code>src/index.html</code>) and let JuDoc copy the files at the appropriate place.</p></div></div><p><strong>HTML parts</strong></p><p>The files in <code>_html_parts/</code> are the building blocks that will go around the (processed) content contained in the <code>*.md</code> pages. So the <code>head.html</code> will be inserted before, the <code>foot.html</code> after etc. Adjusting these will help you make sure the site has the exact layout you want. The layout can also depend on the page you&#39;re on if it uses <code>{{ispage path/to/page}} ... {{end}}</code>  (see <a href="man/@ref"><code>Templating</code></a>).</p><p><strong>CSS</strong></p><p>Unsurprisingly, the style sheets in <code>_css/</code> will help you tune the way your site looks. The <code>judoc.css</code> is the stylesheet that corresponds more specifically to the styling of the <code>.jd-content</code> div and all that goes in it, it is usually the first style-sheet that should be loaded. The simplest way to adjust the style easily would be to define your own stylesheet <code>_css/adjustments.css</code> and it be the last stylesheet loaded in <code>_html_parts/head.html</code> so that you can easily overwrite whatever properties you don&#39;t like and define your own. You could also have specific stylesheet that would only be loaded on specific pages using <code>{{ispages ...}}</code> (see <a href="../templating/#Templating-1">Templating</a>).</p><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>It wouldn&#39;t be hard for JuDoc to use page variables in the CSS stylesheet too. You could then do things like</p><pre><code class="language-judoc">@def col1 = aliceblue</code></pre><p>and</p><pre><code class="language-css">.mydiv { color: $col1 }</code></pre><p>I&#39;m not 100% sure how useful that could be though so if you would like to see this happen, please open an issue!</p></div></div><h2><a class="nav-anchor" id="Hosting-the-website-1" href="#Hosting-the-website-1">Hosting the website</a></h2><p>In this section, the assumption is that you will host your website on GitHub. The procedure should be very similar with GitLab. If you&#39;re using your own hosting, you would pretty much just need to copy/clone the content of your folder.</p><p>On GitHub/GitLab, the first step is to create a repository that would be acceptable for a personal webpage.</p><ul><li>Follow the guide to <a href="https://pages.github.com/#user-site">do so on GitHub</a>.</li><li>Or the guide to <a href="https://about.gitlab.com/product/pages/">do so on GitLab</a>.</li></ul><p>Once the repository is created, clone it on your computer, remove whatever is in it if it wasn&#39;t empty and copy over the content of the website folder (so if you had done <code>newsite(&quot;Test/&quot;)</code> then you&#39;d copy over the content of the folder <code>Test</code> into the newly cloned folder <code>username.github.io/</code>).</p><p>Now just do the usual <code>git add</code>, <code>commit</code> and <code>push</code> and your site will be live in a matter of minutes.</p><h2><a class="nav-anchor" id="Optimisation-step-1" href="#Optimisation-step-1">Optimisation step</a></h2><p>The <a href="../../lib/public/#JuDoc.optimize"><code>optimize</code></a> function should typically be run before you push your website online. That step can:</p><ol><li>pre-render KaTeX and highlight code to HTML so that the pages don&#39;t have to load these javascript libraries,</li><li>minify all generated HTML and CSS.</li></ol><p>Those steps (which you can opt out of using the appropriate keyword <code>prerender=false</code> or <code>minify=false</code>) may lead to faster loading pages.</p><p>In order to run this optimisation step, you will need some <a href="#Dependencies-1">Dependencies</a> but if you don&#39;t have them, JuDoc will tell you and ignore the corresponding step. Note also that doing a full pass of pre-rendering and minifying may take a few seconds depending on how many pages you have.</p><h2><a class="nav-anchor" id="(git)-synchronisation-1" href="#(git)-synchronisation-1">(git) synchronisation</a></h2><p>The <a href="../../lib/public/#JuDoc.publish"><code>publish</code></a> function helps you wrap the <a href="../../lib/public/#JuDoc.optimize"><code>optimize</code></a> step as well as a git <code>add</code>, <code>commit</code> and <code>push</code> all in one (provided the <code>optimize</code> step didn&#39;t fail).</p><p>So, in short, your full workflow may look like</p><pre><code class="language-julia">using JuDoc
# cd to the appropriate directory
cd(&quot;path/user.github.io&quot;)
# start serving
serve()
# ...
# edit things, add pages, tune layout etc.
# while keeping an eye on the browser to check
# ...
# all looks good, stop the server with CTRL+C
^C
# and now the final step to optimize and push:
publish()</code></pre><h3><a class="nav-anchor" id="A-possible-problem-and-fix-1" href="#A-possible-problem-and-fix-1">A possible problem and fix</a></h3><p>Since the <code>pub/</code> and <code>css/</code> and <code>index.html</code> folder are <em>generated</em>, it can sometimes cause git merge conflicts if, for instance, you have edited your website on computer A, optimised and published it and then subsequently pull on computer B where - say - the content hasn&#39;t been minified yet. This could cause messy merge conflicts that would be annoying to fix. An easy way to reduce this risk is to simply remove the generated folders and files before pulling.</p><p>The function <a href="../../lib/public/#JuDoc.cleanpull"><code>cleanpull</code></a> does precisely that and should be used if you intend to edit your website from multiple computers. It simply:</p><ol><li>removes all generate folders/files from your current director,</li><li>pulls.</li></ol><p>So in such a case, your full workflow would be:</p><pre><code class="language-julia">using JuDoc
cd(&quot;path/user.github.io&quot;)
cleanpull()
serve()
# ...
publish()</code></pre><footer><hr/><a class="previous" href="../../"><span class="direction">Previous</span><span class="title">Home</span></a><a class="next" href="../syntax/"><span class="direction">Next</span><span class="title">Syntax</span></a></footer></article></body></html>
